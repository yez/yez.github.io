<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  
    <meta name="description" content="Jake Yesbeck's Technology Blog inspired by Open Source Projects.">
  

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      A Year of Commits
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="http://jakeyesbeck.com/public/css/share.css">
  <link rel="stylesheet" href="http://jakeyesbeck.com/public/css/poole.css">
  <link rel="stylesheet" href="http://jakeyesbeck.com/public/css/syntax.css">
  <link rel="stylesheet" href="http://jakeyesbeck.com/public/css/hyde.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">
  <script src="https://use.fontawesome.com/b3103405a3.js"></script>
  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://jakeyesbeck.com/public/apple-touch-icon-144-precomposed.png">
                                 <link rel="shortcut icon" href="http://jakeyesbeck.com/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
  <script src="//load.sumome.com/" data-sumo-site-id="c1ac0d77564d88e7bccc5e57a3839303fe48b17353cf42e4a295539de43b653b" async="async"></script>
</head>


  <body>

    <div class="sidebar">
  <div class="container">
    <div class="sidebar-about">
      <h2 class='h1'>
        <a href="http://jakeyesbeck.com">
          A Year of Commits
        </a>
      </h2>
      <p class="lead">Jake Yesbeck's blog consisting of technical solutions, opinions about life, and updates on "A Year of Commits".
</p>
    </div>

    <nav class="sidebar-nav">
      <a class="sidebar-nav-item" href="http://jakeyesbeck.com">Home</a>
      <a class="sidebar-nav-item" href="/archives">Archives</a>
      <a class="sidebar-nav-item" href="/resume">Resume</a>
      <a class="sidebar-nav-item" href="/about">About</a>
      <a class="sidebar-nav-item" href="https://github.com/yez">GitHub</a>
      <a class="sidebar-nav-item" href="https://twitter.com/jakeyesbeck">Twitter</a>
      <a class="sidebar-nav-item" href="/atom.xml">Feed</a>
    </nav>

    <p class='copyright'>&copy; Jake Yesbeck 2018. All rights reserved.</p>
  </div>
</div>


    <div class="content container">
      <div class="posts">
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2015/06/07/short-feedback-cycles/">
        Short Feedback Cycles
      </a>
    </h1>

    

    <span class="post-date">07 Jun 2015</span>
    <span class='share-container'><ul class="share-buttons">
  <li>
    <a href="https://www.facebook.com/sharer/sharer.php?u=http://jakeyesbeck.com/2015/06/07/short-feedback-cycles/&t=Short Feedback Cycles" title="Share on Facebook" target="_blank">
      <img src="http://jakeyesbeck.com/assets/images/facebook.svg">
    </a>
  </li>
  <li>
    <a href="https://twitter.com/intent/tweet?source=http%3A%2F%2Fjakeyesbeck.com&text=Short Feedback Cycles%20http://jakeyesbeck.com/2015/06/07/short-feedback-cycles/&via=jakeyesbeck" target="_blank" title="Tweet">
      <img src="http://jakeyesbeck.com/assets/images/twitter.svg">
    </a>
  </li>
  <li>
    <a href="https://plus.google.com/share?url=http://jakeyesbeck.com/2015/06/07/short-feedback-cycles/" target="_blank" title="Share on Google+">
      <img src="http://jakeyesbeck.com/assets/images/google_plus.svg">
    </a>
  </li>

  <li>
    <a href="https://news.ycombinator.com/submitlink?u=http://jakeyesbeck.com/2015/06/07/short-feedback-cycles/&t=Short Feedback Cycles" target="_blank" title="Share on Hacker News">
      <img src="http://jakeyesbeck.com/assets/images/ycomb.svg">
    </a>
  </li>

  <li>
    <a href="https://getpocket.com/save?url=http://jakeyesbeck.com/2015/06/07/short-feedback-cycles/&title=Short Feedback Cycles" target="_blank" title="Add to Pocket">
      <img src="http://jakeyesbeck.com/assets/images/pocket.svg">
    </a>
  </li>
  <li>
    <a href="http://www.reddit.com/submit?url=http://jakeyesbeck.com/2015/06/07/short-feedback-cycles/&title=Short Feedback Cycles" target="_blank" title="Submit to Reddit">
      <img src="http://jakeyesbeck.com/assets/images/reddit.svg">
    </a>
  </li>
</ul>
</span>

    <p>Forty-two days into my <a href="http://jakeyesbeck.com/2015/04/23/a-year-of-commits/">year of commits</a> initiative has come and gone. With it, I have found some great processes for making my contributions efficient and effective. Feedback is extremely important when writing software. After all, the code you write is probably designed to work, right? Right. A good way to verify correctness in your software is through automated tests. These can either be unit tests for specific methods and functions or integration tests; those that make sure a complete code path behaves as expected. Regardless, we write these tests to ensure our code works now and in the future. “In the future” is where I have started to contribute to projects.</p>

<p>Good projects have test files that the original author(s) provide. Great projects have <em>fast</em> test files that the original author(s) provide. Fast tests provide short feedback cycles. Short feedback cycles prevent bugs and help make new feature development and refactoring much more painless. Feedback governs our behaviors in and outside the development world. Without it, we would not be as efficient or effective at the tasks that are important to us. From writing software to training for a half marathon, feedback matters a great deal.</p>

<p>In a recent <a href="https://github.com/ariejan/imdb/pull/71">contribution of mine</a>, I relied heavily on automated testing and short feedback cycles. It was important to me that I was able to identify how the specs were changing as I upgraded them to RSpec 3. I used <a href="https://github.com/guard/guard">Guard</a> to help run my tests automatically when any of the code changed. Guard is a tool to automatically run your automated test files as you are making changes to the code.</p>

<p>Guard has been around for a long time. I chose to use it due to how simple it is to set up. All you need to do is include the <code class="highlighter-rouge">guard-rspec</code> gem in your repository create a <code class="highlighter-rouge">Guardfile</code>.</p>

<p>An example <code class="highlighter-rouge">Guardfile</code> (which exists in the root of your repository) would look something like this:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">guard</span> <span class="ss">:rspec</span><span class="p">,</span> <span class="ss">cmd: </span><span class="s1">'rspec'</span><span class="p">,</span> <span class="ss">notification: </span><span class="kp">false</span> <span class="k">do</span>
  <span class="n">watch</span><span class="p">(</span><span class="sr">%r{^spec/.+_spec</span><span class="se">\.</span><span class="sr">rb$}</span><span class="p">)</span>
  <span class="n">watch</span><span class="p">(</span><span class="sr">%r{^lib/(.+)</span><span class="se">\.</span><span class="sr">rb$}</span><span class="p">)</span>    <span class="p">{</span> <span class="o">|</span><span class="n">m</span><span class="o">|</span> <span class="s2">"spec/lib/</span><span class="si">#{</span><span class="n">m</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s2">_spec.rb"</span> <span class="p">}</span>
  <span class="n">watch</span><span class="p">(</span><span class="sr">%r{^models/(.+)</span><span class="se">\.</span><span class="sr">rb$}</span><span class="p">)</span> <span class="p">{</span> <span class="o">|</span><span class="n">m</span><span class="o">|</span> <span class="s2">"spec/models/</span><span class="si">#{</span><span class="n">m</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s2">_spec.rb"</span> <span class="p">}</span>
  <span class="n">watch</span><span class="p">(</span><span class="s1">'spec/spec_helper.rb'</span><span class="p">)</span> <span class="p">{</span> <span class="s2">"spec"</span> <span class="p">}</span>
<span class="k">end</span>
</code></pre>
</div>

<p>Let’s break this file down and see exactly what is going on.</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">watch</span><span class="p">(</span><span class="sr">%r{^spec/.+_spec</span><span class="se">\.</span><span class="sr">rb$}</span><span class="p">)</span>
</code></pre>
</div>
<p>This line tells Guard to watch each spec file and run the contained tests if the file has been saved. The file does not need to be changed, only saved for guard to run the specs.</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">watch</span><span class="p">(</span><span class="sr">%r{^lib/(.+)</span><span class="se">\.</span><span class="sr">rb$}</span><span class="p">)</span>    <span class="p">{</span> <span class="o">|</span><span class="n">m</span><span class="o">|</span> <span class="s2">"spec/lib/</span><span class="si">#{</span><span class="n">m</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s2">_spec.rb"</span> <span class="p">}</span>
<span class="n">watch</span><span class="p">(</span><span class="sr">%r{^models/(.+)</span><span class="se">\.</span><span class="sr">rb$}</span><span class="p">)</span> <span class="p">{</span> <span class="o">|</span><span class="n">m</span><span class="o">|</span> <span class="s2">"spec/models/</span><span class="si">#{</span><span class="n">m</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s2">_spec.rb"</span> <span class="p">}</span>
</code></pre>
</div>

<p>These two lines do the same thing in different directories. The first looks in the <code class="highlighter-rouge">lib</code> directory for anything ending in <code class="highlighter-rouge">.rb</code> and runs the associated spec files in <code class="highlighter-rouge">spec/lib/</code>. For example, if we have changed a file, <code class="highlighter-rouge">lib/foo.rb</code>, then the spec, <code class="highlighter-rouge">spec/lib/foo_spec.rb</code>, is run. The second line does the exact same thing for the <code class="highlighter-rouge">models</code> directory.</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">watch</span><span class="p">(</span><span class="s1">'spec/spec_helper.rb'</span><span class="p">)</span> <span class="p">{</span> <span class="s2">"spec"</span> <span class="p">}</span>
</code></pre>
</div>

<p>This last line tells guard to run a specific directory (in this case, <code class="highlighter-rouge">spec</code>) whenever our <code class="highlighter-rouge">spec/spec_helper.rb</code> file is saved.</p>

<p>With our <code class="highlighter-rouge">Guardfile</code> set up, seeing the successes and failures of our test suite while we do development is as easy as running <code class="highlighter-rouge">guard</code> in the root of our directory structure. Personally, I use <code class="highlighter-rouge">guard --clear</code> to make the terminal clean up after itself between runs. This creates a nice blank slate to run each spec on and requires no additional scrolling.</p>

<p>Guard has been a very valuable asset to me during my Year of Commits and it, or technologies in the same space, would be worth looking into for anyone searching for short feedback development. Go out there, keep your Guard up and make some great contributions to other people’s code!</p>

  </div>
  
</div>

<div class="pagination">
  
    <a class="pagination-item older" href="http://jakeyesbeck.com/page50">Older</a>
  
  
    
      <a class="pagination-item newer" href="http://jakeyesbeck.com/page48">Newer</a>
    
  
</div>

    </div>
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-62292380-1', 'auto');
  ga('require', 'linkid');
  ga('send', 'pageview');

  window.setTimeout(function() {
    ga('send', 'event', '10 seconds', 'passed')
  }, 30 * 1000);
</script>

  </body>
</html>
